# Hugo 网站项目部署技术文档

## 项目概述

这是一个基于 Hugo 静态网站生成器的项目，配置了两个主题：
- **PaperMod**: 现代化的博客主题，支持多种模式和丰富功能
- **WebStack**: 响应式网址导航主题，适合创建导航网站

## 项目结构

```
├── archetypes/          # 内容模板
│   └── default.md       # 默认文章模板
├── assets/              # 资源文件（CSS、JS等）
├── content/             # 网站内容（Markdown文件）
├── data/                # 数据文件
├── i18n/                # 国际化文件
├── layouts/             # 自定义布局模板
├── static/              # 静态资源（图片、文档等）
├── themes/              # 主题目录
│   ├── PaperMod/        # PaperMod 主题（Git子模块）
│   └── webstack/        # WebStack 主题（Git子模块）
├── hugo.toml            # Hugo 配置文件
└── .gitmodules          # Git 子模块配置
```

## 技术栈

- **Hugo**: v0.146.0+ (静态网站生成器)
- **主题**: PaperMod / WebStack
- **版本控制**: Git (使用子模块管理主题)
- **部署**: 支持多种静态托管平台

## 环境要求

### 开发环境
- Hugo Extended v0.146.0 或更高版本
- Git
- Node.js (可选，用于主题定制)

### 安装 Hugo

**macOS:**
```bash
brew install hugo
```

**Linux:**
```bash
# Ubuntu/Debian
sudo apt-get install hugo

# 或下载二进制文件
wget https://github.com/gohugoio/hugo/releases/download/v0.xxx.x/hugo_extended_0.xxx.x_Linux-64bit.tar.gz
```

**Windows:**
```bash
# 使用 Chocolatey
choco install hugo-extended

# 或使用 Scoop
scoop install hugo-extended
```

## 本地开发

### 1. 克隆项目
```bash
git clone <项目地址>
cd <项目目录>
```

### 2. 初始化子模块
```bash
git submodule update --init --recursive
```

### 3. 启动开发服务器
```bash
hugo server -D
```

访问 `http://localhost:1313` 查看网站

### 4. 创建新内容
```bash
# 创建新文章
hugo new posts/my-first-post.md

# 创建新页面
hugo new about.md
```

## 配置说明

### 基础配置 (hugo.toml)
```toml
baseURL = 'https://example.org/'
languageCode = 'en-us'
title = 'My New Hugo Site'

# 选择主题
theme = 'PaperMod'  # 或 'webstack'

# 其他配置...
```

### PaperMod 主题特性
- 🚀 快速、流畅、响应式
- 🌙 自动深色/浅色主题切换
- 📱 移动端优化
- 🔍 内置搜索功能
- 📊 SEO 友好
- 🌐 多语言支持
- 📝 代码高亮和复制功能

### WebStack 主题特性
- 📋 网址导航功能
- 📱 响应式设计
- 🎨 自定义配置
- 📊 分类管理
- 🔧 易于维护

## 构建部署

### 1. 构建静态文件
```bash
# 生产环境构建
hugo --minify

# 开发环境构建（包含草稿）
hugo -D
```

构建后的文件位于 `public/` 目录

### 2. 部署选项

#### GitHub Pages
```yaml
# .github/workflows/hugo.yml
name: Deploy Hugo site to Pages

on:
  push:
    branches: ["main"]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          submodules: recursive
      
      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: 'latest'
          extended: true
      
      - name: Build
        run: hugo --minify
      
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v2
        with:
          path: ./public

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v2
```

#### Netlify
1. 连接 Git 仓库
2. 构建命令: `hugo --minify`
3. 发布目录: `public`
4. Hugo 版本: 设置环境变量 `HUGO_VERSION=0.146.0`

#### Vercel
1. 导入 Git 仓库
2. 框架预设: Hugo
3. 构建命令: `hugo --minify`
4. 输出目录: `public`

#### 传统服务器
```bash
# 构建
hugo --minify

# 上传 public/ 目录到服务器
rsync -avz --delete public/ user@server:/var/www/html/
```

## 内容管理

### 文章结构
```markdown
+++
title = "文章标题"
date = 2024-01-01T00:00:00Z
draft = false
tags = ["标签1", "标签2"]
categories = ["分类"]
+++

文章内容...
```

### 页面类型
- `posts/`: 博客文章
- `pages/`: 静态页面
- `docs/`: 文档页面

## 主题切换

在 `hugo.toml` 中修改 `theme` 参数：
```toml
theme = 'PaperMod'    # 博客主题
# 或
theme = 'webstack'    # 导航主题
```

## 常见问题

### 1. 子模块更新
```bash
git submodule update --remote
```

### 2. 主题定制
- 复制主题文件到项目根目录对应位置
- 修改 `layouts/` 目录下的模板文件
- 自定义 CSS 放在 `assets/css/` 目录

### 3. 性能优化
- 启用 `--minify` 参数
- 优化图片大小
- 使用 CDN 加速

## 维护建议

1. **定期更新**: 保持 Hugo 和主题版本最新
2. **备份**: 定期备份配置和内容文件
3. **监控**: 设置部署状态监控
4. **SEO**: 配置合适的 meta 信息和 sitemap

## 支持资源

- [Hugo 官方文档](https://gohugo.io/documentation/)
- [PaperMod 主题文档](https://github.com/adityatelange/hugo-PaperMod/wiki)
- [WebStack 主题文档](https://github.com/shenweiyan/WebStack-Hugo)

---

*最后更新: 2025年1月*